# 20220601面试题整理

------

[TOC]

## 1.HahMap的扩容机制

（1）HashMap 继承自 AbstractMap类，实现了Map、Cloneable、Serializable接口；

（2）当哈希表的“负载”达到“负载因子”值时，hash表就会加倍扩容，并将原有的对象重新分配，放置在新表中，这过程称为rehashing。

​	rehashing过程负载，且极消耗性能，所以指定一个合适的负载因子非常重要。

（3）计算哈希值的时候是取模运算，所以是2的倍数。



## 2.JVM垃圾回收机制

（1）垃圾回收机制主要针对堆区和方法区，程序计数器、虚拟机栈、本地方法栈三个区域属于线程私有的，不需要垃圾回收。

（2）垃圾回收机制是Java语言的一大特性，可以有效的放置内存泄漏，保证内存的有效使用。

（3）垃圾回收机制很复杂，主要核心有三个：哪些内存需要回收？什么时候回收？如何回收？

①、内存是如何分配和回收的？

​    A：Java内存分配模型

​	B：内存分配策略

②、哪些内存需要回收？

​	A：无效的对象（判断方式主要有引用计数法和可达性分析算法）

​	B：四种引用（强引用、软引用、弱引用、虚引用）

​	C：方法区的回收，主要是对废弃常量的回收和对无用类的回收。（该类所有的的实例已经被回收；加载该类的ClassLoader已经被回收；该类对应的java.lang.class对象没有在任何地方被引用，无法在任何地方通过反射被调用。）

③、什么时候回收？

​	A：分代垃圾回收器 （分区：新生代和老年代，新生代主要使用的是复制算法，老年代使用的是整理算法）

​	B: Minor GC 和Major GC内存回收策略（新生代：频繁，且效率高；比MinorGC要慢，效率也要低一些）

​	C:可以主动通知虚拟机进行垃圾回收。（System.GC）

④、如何回收？

​	A：垃圾收集算法（标记清楚算法、复制算法、标记整理算法、分代收集算法）

​	B：垃圾收集器（Serial收集器、ParNew收集器、Parallel Scavenge收集器、Serial Old收集器、Parallel Old收集器、Parallel Old收集器、G1(Garbage First)收集器）

## 3.Mybatis缓存机制

（1）缓存的主要作用主要是提升查询效率，降低查询压力；

（2）Mybatis具有一级缓存和二级缓存，并且预留了三级缓存的接口；

（3）一级缓存：又叫本地缓存，一级缓存实在sqlSession层面进行缓存的，默认是开启的；

​		注意：同一个Session中是共享的，而有过update的操作，则会导致缓存被清空，此外一级缓存不能跨会话共享。

​	    二级缓存是用来解决一级缓存不能不能跨会话共享的问题，属于nameSpace级别，它需要进行配置才能生效。

## 4.ArrayList扩容机制







